/*
商品库存监控
环境变量：
TK_SIGN 激活码 请关注公众号cxt_wg回复“监控激活码”获取激活码
STOCK_GOODS 监控商品Id多个用&符号分隔
STOCK_AREA 监控地区ID不设置默认江苏南京 示例12_904_3375或12-904-3375

===================quantumultx================
[task_local]
#领取优惠券
0/5 0,7-23 * * * https://gitee.com/cxtwg2/jdYhq/blob/main/jd_stock_con.js, tag=商品库存监控, img-url=https://raw.githubusercontent.com/jd.png, enabled=true
=====================Loon================
[Script]
cron "0/5 0,7-23 * * *" script-path=https://gitee.com/cxtwg2/jdYhq/blob/main/jd_stock_con.js, tag=商品库存监控
*/
const $ = new Env('商品库存监控');

var _0xodu='jsjiami.com.v6',_0xodu_=['‮_0xodu'],_0x5879=[_0xodu,'FsKjwpR4w74=','M8KeGMOnMA==','dRjCh8K/wp8=','CkLCncKfbA==','d8KDHcOkDg==','w4ZowoTCkRI=','w7/Ch0IFw6c=','w7MTEcKSwrc=','OcOYwpZ3RA==','w4PDpkdgwpc=','w75fb8KuaQ==','w7fCmHA4w5E=','HumHuui3ruS6hw==','ZBY1dHg=','wpLCi8Ojw6PDiQ==','YnQOYS4=','w7NkworCk8K2','GMO6wrZyfg==','wqbDgcO5cMOU','wpPCtyHDg0g=','dCx9wqLCiA==','UjNAwpfCgQ==','wqPCihzDjG4=','w6BRwpwmYA==','W0QkYnk=','bgovcGI=','UMO1FFLDjw==','RnYrYQg=','GcKDMcOgwqY=','KsKywq9Hw4g=','wpHCk8O1LsOo','w5vCvcKyLcKgwqY/w7zDi8OXLQ==','w5TCjXI+w6s1w4AL','Q1jCt8OnwrhkR30=','w61RacKVTcKjRsOj','w7UddsKWMw==','w7d1wrHCjcKmYmk=','NsOxDxx0eg7Dqw==','UyJiwqTCqA==','wpwDw4TDnxU=','w6IDQcOLw5lFwrfCkUHDsw==','w61RacKVS8KjR8O/GsO/','Wz7CisO5w6I=','wrMxw64nw6PCp8OiUj/CqA==','N8OTEARW','w7d1wrHCmsKidWPDoQNX','w4DDt1dpwohvD8KCwojDqsKEwo7CmBHClg==','wrnClcO0J8OW','w5cuWsOqw6Y=','wrnCq8Oh','6K+15rOP5aeC6LSF77yy6K6t5qGM5p2k57+J6LaU6YWd6K2W','STsCVVo=','bAHCocKVPg==','eFEAai5owpNTXsOx','woTDo8KXwrEQ','NG7Cl0hd','DMOPw7spQQ==','ccKZCw==','C8Ojwqwswr0=','NsOCMjd/','wrkxw6bDlhQ=','5pyi6LSC5Lup77yTLU/Ck0JZwq7CiMKiw7XCp8KMw40wKXvCt2BcDQ8=','TjXCkQ==','5r6z5rWS56Oh6ZSH6K6p776E','wobCsMOpA8Oywqotw53DiD8=','AsKKwrs=','M3LCjsKKQA==','fwAUSlo=','AMOawoI=','w4pVwo7Cg8KI','w7YgQ8KGNQ==','c28majA=','wrbCl8Om','wpcOw7nDgzg=','w73mn6Pnn65E','esKSw63Ck8OEQsOzPT5e','L1Ucw7TCug==','fsOwJ2HDsg==','VsOIEg==','IFoNw7LCtg==','CcO2w6bCqVLDnH5Jw5kP','P8ODTsOjXsO5C8KrBcOGYjLDr8O/wojDjQMUwpYDKMKDw7fDssOMw77CvsOOw47DhMKdamoLw4PCsyPCg8OKwoR7w4fDjsKKwo40Lg==','fMKWZg==','RBEjdUPCtsOeKcOqw6rCpMKxw6TCjVvCg8KY','ZxxlwqTClA==','RhcRU2I=','w7RbwqfCr8Kw','w7hXwpLCj8Kt','M8OxU8OjWA==','w79QwqIQUMK5w7Y=','XMKVw6fCgsOwcMOgOSRP','ej7Dj8O5w6PCmjzCvsO0','wp7DtMOEwopp','wrPCl8OZw4vDqA==','5p276YeZ57yV6Z2U6Kaa55ue5o+b55ic5ZWt5ZK377+z','UsKfCsOaEw==','w6bDkzDCm8Kn','wrrDmMKawoo+','SlooWWc=','e8KZKMOzOw==','O8OYXQ==','T23Ch8OswpY=','wpfDjcODwr96HEgFw5PCuw==','TEnCt8OawqQwHDouwqPCiwoaw64RAHA=','D8KVwqxlw5AIw4gEPGjCp1FHOMKLw7bCvMKlIMOrFEM+w5M+wpPDtcOo','Aw/CicKnMjDDrQBKXiPDoMOqIjHCgcKEGMKGWMKPZ2/DtsKtwpEvwpx5ADtTGjLDrwQ=','ecOFEXDDjA==','d8KvJ8OFGg==','dBTClsOiw6o=','cWYDaFA=','w7nDhjLClcKnZw==','w6zDumJJwqY=','OAHCoXMB','YS45TFk=','wonCvhbDv2I=','wrUsw6oTw7w=','F8O9wqFsVg==','VmjDkA==','W3cZVXQMVg==','w6YgZ8K+HcKdfMOzE8Od','wq/Cqi3DnV0=','WTzCnsKqCw==','AMKdwpZkw6A=','wpLDrcKKwrEq','w7bDmsOP','EU/CncKifA==','HcKuE8OrwqQ=','w4VESsKTSw==','w6bCmsKLDMKm','w7A7Y8K+AcKTf8OzPMOd','5r+r5rSe56Gu6ZSQ6K6q77y6','wrbDiMO0XsO1','wpHDt8OJwolw','wqIjw7/DvMO+LDnCtg==','InUDw7LCnw==','UcO0wrd4bw==','I07CqcKdVw==','w7YTV8O1w4RZwqvCi0M=','V0jCocOZwqN4Wnsq','wrLCvMOvL8Oa','DcONw4wQYlRoO8Or','w4tca8KZZw==','w4LCnWABw6U=','ak0ZSAA=','Si8SVUsacX9s','ZMOGwrFmTA==','c8KzBcOOOw==','TAt/wp7Cvw==','wpdUw48=','6Kyj5rCW5aar6LWR776K6Kyz5qGN5p+Z57yK6LS06YSX6Ky0','wqvCpmw=','wpwkw4gxw4s=','Si3CssKYwoY=','ST0wTGI=','wrjChcOKF8Od','w4RbwqHCgyk=','TxvCusKEwoo=','IMO8wrccwrw=','w4DCnWQAw7Apw50NDw==','w6NlwqfCusKzZGXDoQA=','wqchw7gHw7LCtsOkUjw=','YMOVwoVPdw==','w5xBwrIAbw==','woTDq8KswqkBwovDnA==','w6IDQcOSw5lGwqc=','bijCosOQw6s=','BsKKwrNIw6M=','w7APw5vDmBw=','w7xIwrzCh8KI','WEcbUUs=','VFcveFc=','wobCmC3DmG4=','wq3CgcOXOMOS','Y8KVw4nCgsOf','LMOzw7fCmks=','R0oI','w6bCjsORwrrCkQ==','JsK3wppgw7o=','csO1M3/Dlg==','UhfCrMORw6w=','WzJDwrnCrg==','NMKeEcOEwoo=','fCRswozCsw==','McKwFcOkwo0=','I8OAMBBU','w7LDhijCtMKmY8KEBMKAGGk=','wqjCrMOKw5bDjg==','w63Cg8OGwqXCjcKSwpfDpg==','W3cZRXwVVg==','wrnCnsOgw7jDhg==','EE7CjGN4w4VncA==','w6PCksORwpHCmg==','DVgNw53CnsOfPMKe','Q1jCt8Onwr5kRmEowrQ=','U8OTFm/DrQ==','CcKAwqhEw5AFw5wEMHQ=','wrHCt8O0OMOM','BcOGwqsgwr3Dkg==','w5UUw5tGw5TDqjVJfsKVwqEn','wrIIw4g=','5p2A5Y2P54y3wqh0w51+YsO3D8OTRQIfNsKv5pab5Lim5LiQ5Lyr6L6z6KGb6YK/55yg77yA','6K6d5Yet5rGv5Ya35LyG5Y2EeVTDrCTDjUTlmqXlpLzigYDnmI3mjrvmvJDmtKbnoLDigbXojqDljbPmvIXmtLrnoLnvvLE=','w6TDtsOZWcKpw40Gwo/Cj20n','5pyr5qC05rWm5Ymk5ryW5reH56GrLg==','6K+C5Y6M55qh5o6B5ZW55ZKp54635aKS5Y+T6Yaa5oiv5YiF77+Y','5p6/6Yeu57yy6Z+y6KWS55ue5o2P55uZ5Zaj5ZK477ya','6K6I5Y6/55ix5o655Z225Y6/54205aKk5Y2O6Yey5oiJ5YmQ77yI','wq7DgsK+wrAc','D8Oww7E=','w5nCi0EZw6o=','w5oSIw==','wqXDocOST8OfM0w=','5r6R5rav56G66ZWN6K+05oiZ5baO6L2f5py0Wg==','w6Zbeg==','wrLDhcOGXsOl','UAt/','cQ7CucKwwoXCrMONwqnCrsKWw4k=','w6ZDwqHCjcK/','wrDCqsOw','w4nDocOnFcKSw6fCqMKvIcKMwrA=','wqwCw5/DmRFCYQ==','wokewqY=','VTHCmcOnw7I=','w40ZJcKIwrXDpB4=','dTXChg==','MMOfChhu','w6AIQw==','wocAw5U3w43Cm8OMbh7Cmg==','CcObwpM=','ID3Cr10Nw5rCmnXDk3w=','w6/CjMKJKMKewpUSw7fDq8O3','wqzDtMKBwrYQwo/DnQ==','w7V+wrM=','eHEgSg5kwqZgb8OV','az/CkcO/w6bDlzo=','BsOxw6A=','F8OYNh5p','P8KDwqxEw5E=','TksZ','wq4Vw4DDlhVSdw==','FgfClg==','w6LDgjXChg==','HsOawpAhwr0=','wrfDqMOuacO1','Pn3CrsKnVg==','wrTCrGUMwpU1w4UGfMK9','w6RVcMK9','HcOZw5oAfg==','WjPCnsKm','GHLlp4Lot6ZZS+WOreWaksKMPQ==','XMOOG3fDucKoDg==','5p+e5qGl5rep5Yu95r+55rWI56CtTA==','w4dlwp/Cniw=','HwOjswWrkujdiamik.cobhfm.yv6y=='];if(function(_0x3e6f89,_0x5e8875,_0x130ee0){function _0x50da65(_0x56f13d,_0x3f6cfd,_0x568edd,_0x144a2e,_0x2fc772,_0x11b68b){_0x3f6cfd=_0x3f6cfd>>0x8,_0x2fc772='po';var _0x4d22f5='shift',_0x41202c='push',_0x11b68b='‮';if(_0x3f6cfd<_0x56f13d){while(--_0x56f13d){_0x144a2e=_0x3e6f89[_0x4d22f5]();if(_0x3f6cfd===_0x56f13d&&_0x11b68b==='‮'&&_0x11b68b['length']===0x1){_0x3f6cfd=_0x144a2e,_0x568edd=_0x3e6f89[_0x2fc772+'p']();}else if(_0x3f6cfd&&_0x568edd['replace'](/[HwOwWrkudkbhfyy=]/g,'')===_0x3f6cfd){_0x3e6f89[_0x41202c](_0x144a2e);}}_0x3e6f89[_0x41202c](_0x3e6f89[_0x4d22f5]());}return 0xd2865;};return _0x50da65(++_0x5e8875,_0x130ee0)>>_0x5e8875^_0x130ee0;}(_0x5879,0x1c2,0x1c200),_0x5879){_0xodu_=_0x5879['length']^0x1c2;};function _0x4882(_0x283338,_0x411849){_0x283338=~~'0x'['concat'](_0x283338['slice'](0x1));var _0x506dab=_0x5879[_0x283338];if(_0x4882['nVitBc']===undefined){(function(){var _0x46e7e2=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x97f5b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x46e7e2['atob']||(_0x46e7e2['atob']=function(_0x13bad6){var _0x4fcc18=String(_0x13bad6)['replace'](/=+$/,'');for(var _0x2f3f2e=0x0,_0x2fe891,_0x4cc669,_0x37c20a=0x0,_0x495ead='';_0x4cc669=_0x4fcc18['charAt'](_0x37c20a++);~_0x4cc669&&(_0x2fe891=_0x2f3f2e%0x4?_0x2fe891*0x40+_0x4cc669:_0x4cc669,_0x2f3f2e++%0x4)?_0x495ead+=String['fromCharCode'](0xff&_0x2fe891>>(-0x2*_0x2f3f2e&0x6)):0x0){_0x4cc669=_0x97f5b['indexOf'](_0x4cc669);}return _0x495ead;});}());function _0x2654ea(_0x1d0528,_0x411849){var _0x3dbc15=[],_0x11606c=0x0,_0x5ef725,_0x4572d3='',_0x37abcb='';_0x1d0528=atob(_0x1d0528);for(var _0x15f973=0x0,_0xfed15d=_0x1d0528['length'];_0x15f973<_0xfed15d;_0x15f973++){_0x37abcb+='%'+('00'+_0x1d0528['charCodeAt'](_0x15f973)['toString'](0x10))['slice'](-0x2);}_0x1d0528=decodeURIComponent(_0x37abcb);for(var _0x5e9be0=0x0;_0x5e9be0<0x100;_0x5e9be0++){_0x3dbc15[_0x5e9be0]=_0x5e9be0;}for(_0x5e9be0=0x0;_0x5e9be0<0x100;_0x5e9be0++){_0x11606c=(_0x11606c+_0x3dbc15[_0x5e9be0]+_0x411849['charCodeAt'](_0x5e9be0%_0x411849['length']))%0x100;_0x5ef725=_0x3dbc15[_0x5e9be0];_0x3dbc15[_0x5e9be0]=_0x3dbc15[_0x11606c];_0x3dbc15[_0x11606c]=_0x5ef725;}_0x5e9be0=0x0;_0x11606c=0x0;for(var _0x326441=0x0;_0x326441<_0x1d0528['length'];_0x326441++){_0x5e9be0=(_0x5e9be0+0x1)%0x100;_0x11606c=(_0x11606c+_0x3dbc15[_0x5e9be0])%0x100;_0x5ef725=_0x3dbc15[_0x5e9be0];_0x3dbc15[_0x5e9be0]=_0x3dbc15[_0x11606c];_0x3dbc15[_0x11606c]=_0x5ef725;_0x4572d3+=String['fromCharCode'](_0x1d0528['charCodeAt'](_0x326441)^_0x3dbc15[(_0x3dbc15[_0x5e9be0]+_0x3dbc15[_0x11606c])%0x100]);}return _0x4572d3;}_0x4882['ylGZZB']=_0x2654ea;_0x4882['auDmGg']={};_0x4882['nVitBc']=!![];}var _0x1d2c23=_0x4882['auDmGg'][_0x283338];if(_0x1d2c23===undefined){if(_0x4882['BXKbgp']===undefined){_0x4882['BXKbgp']=!![];}_0x506dab=_0x4882['ylGZZB'](_0x506dab,_0x411849);_0x4882['auDmGg'][_0x283338]=_0x506dab;}else{_0x506dab=_0x1d2c23;}return _0x506dab;};let notify='';let jdNotify=!![];try{notify=$[_0x4882('‮0','trrK')]()?require(_0x4882('‫1','k]Gu')):'';}catch(_0x288c77){jdNotify=![];console[_0x4882('‮2','gSqa')](_0x4882('‮3','QzJ$'));}let jhmMsg=_0x4882('‮4','QzJ$');let goodId='';let areaId=_0x4882('‫5','rELY');let tips='';!(async()=>{var _0x19b2c3={'jcGjn':function(_0x165847,_0x5b06d8,_0x2a26a0){return _0x165847(_0x5b06d8,_0x2a26a0);},'qaOki':function(_0x3a1a71,_0x4274eb){return _0x3a1a71+_0x4274eb;},'CoKBs':_0x4882('‮6','E4e('),'vSdDx':function(_0x37c941,_0x1ab24c){return _0x37c941+_0x1ab24c;},'FqCJC':_0x4882('‫7','Y^uI'),'Lkxtu':function(_0x4dd87d,_0x260da6){return _0x4dd87d>_0x260da6;},'aKqLu':_0x4882('‮8','CqLx'),'FLMJr':function(_0x4fe59f,_0x428478){return _0x4fe59f+_0x428478;},'QfpMh':_0x4882('‮9','IalC'),'dtoMx':function(_0x28be13,_0x23c243){return _0x28be13*_0x23c243;},'yjTJH':function(_0x5074f1){return _0x5074f1();},'FBcuc':function(_0x5c31d0,_0x48cb47){return _0x5c31d0&&_0x48cb47;},'NJCbP':_0x4882('‮a','D9cy')};if(process[_0x4882('‫b','QzJ$')]['TK_SIGN']){if(!_0x19b2c3[_0x4882('‫c','TFPJ')](getQmExpireDate,process[_0x4882('‫d','5k*P')][_0x4882('‫e','AxQO')],0x1)){console['log'](_0x19b2c3['qaOki'](_0x4882('‮f','j&AZ'),jhmMsg));return;}}else{console[_0x4882('‮10','6qkE')](_0x19b2c3['qaOki'](_0x19b2c3[_0x4882('‫11','AxQO')],jhmMsg));return;}if(process[_0x4882('‮12','meN&')][_0x4882('‫13','RyZ2')]){console['log'](_0x19b2c3[_0x4882('‫14','I5*$')](_0x19b2c3['FqCJC'],process['env']['STOCK_GOODS']));goodId=process[_0x4882('‫15','rELY')][_0x4882('‮16','IA0w')];if(goodId['indexOf']('&')>-0x1){goodId=goodId[_0x4882('‮17','gSqa')](/&/g,_0x4882('‫18','L3Em'));}else if(_0x19b2c3[_0x4882('‮19','Sbd6')](goodId['indexOf'](','),-0x1)){goodId=goodId[_0x4882('‫1a','5k*P')](/,/g,_0x4882('‫18','L3Em'));}}else{console[_0x4882('‮1b','Sbd6')](_0x19b2c3[_0x4882('‫1c','j&AZ')]);return;}if(process[_0x4882('‮1d','Sv2p')][_0x4882('‫1e','SD#z')]&&(process[_0x4882('‮1f','trrK')][_0x4882('‫20','IalC')]['indexOf']('_')>-0x1||process['env'][_0x4882('‫21','8bUi')][_0x4882('‮22','soA3')]('-'))){areaId=process[_0x4882('‮23','I5*$')][_0x4882('‮24','!u&)')][_0x4882('‫25','Sbd6')](/\-/g,'_');console[_0x4882('‫26','QzJ$')](_0x19b2c3[_0x4882('‮27','j&AZ')](_0x19b2c3[_0x4882('‫28','*hN1')],process[_0x4882('‮29','!u&)')][_0x4882('‫2a','gSqa')][_0x4882('‫2b','IalC')]['STOCK_AREA']));}await $[_0x4882('‫2c','CqLx')](Math[_0x4882('‫2d','trrK')](_0x19b2c3['dtoMx'](Math['random'](),0xa))*0x3e8);await _0x19b2c3['yjTJH'](doStockControl);if(_0x19b2c3[_0x4882('‫2e','AxQO')](jdNotify,tips)){if(_0x19b2c3[_0x4882('‮2f','eOIj')]!==_0x19b2c3['NJCbP']){date=new Date(time);}else{await notify[_0x4882('‮30','JDqo')]($[_0x4882('‫31','6qkE')],tips);}}})()[_0x4882('‫32','5FRY')](_0x4afa50=>{$['log']('','❌\x20'+$[_0x4882('‫33','s&#Z')]+_0x4882('‮34','s&#Z')+_0x4afa50+'!','');})[_0x4882('‫35','8slW')](()=>{$['done']();});function doStockControl(){var _0x3ea6c2={'juqnR':function(_0x4f661c,_0x31fb44){return _0x4f661c+_0x31fb44;},'jDays':_0x4882('‮36','h)%X'),'LoDvc':function(_0x16d9d1,_0x4dab35){return _0x16d9d1+_0x4dab35;},'TFcMs':function(_0x512c10,_0x411eb7){return _0x512c10>=_0x411eb7;},'xGOKx':function(_0x2e2559,_0x9c3598){return _0x2e2559>=_0x9c3598;},'dtdDv':_0x4882('‫37','L3Em'),'SpWvx':_0x4882('‮38','*hN1'),'tkrvK':function(_0x8803bd,_0x1467bf){return _0x8803bd!==_0x1467bf;},'DosNh':':有货','DpvKU':_0x4882('‮39','Mk!A'),'HsbqH':function(_0x2af2a1,_0x718ba1){return _0x2af2a1+_0x718ba1;},'IQahk':_0x4882('‮3a','RyZ2'),'ctOZq':function(_0x91ca59,_0xf7a0bf){return _0x91ca59(_0xf7a0bf);},'udCHI':function(_0x3c39f5,_0x257285){return _0x3c39f5===_0x257285;},'WktlB':_0x4882('‮3b','eOIj')};return new Promise(_0x45bfdb=>{var _0xae78ef={'EheaK':function(_0x24e3c3,_0x2ef237){return _0x3ea6c2[_0x4882('‮3c','Mk!A')](_0x24e3c3,_0x2ef237);},'jAxvJ':_0x3ea6c2[_0x4882('‫3d','L3Em')],'AItVm':function(_0x346644,_0x15cbfb){return _0x3ea6c2[_0x4882('‮3e','TFPJ')](_0x346644,_0x15cbfb);},'gVIcd':function(_0x483115,_0x421497){return _0x3ea6c2[_0x4882('‮3f','5k*P')](_0x483115,_0x421497);},'xdJbY':function(_0x21bcac,_0x203abc){return _0x3ea6c2[_0x4882('‫40','fk3M')](_0x21bcac,_0x203abc);},'LWeJQ':function(_0x129b0e,_0x365484){return _0x3ea6c2['xGOKx'](_0x129b0e,_0x365484);},'BoxuR':_0x3ea6c2[_0x4882('‮41',']s[L')],'lQrGO':_0x3ea6c2['SpWvx'],'XSRVF':function(_0x14f892,_0x433eb8){return _0x14f892==_0x433eb8;},'Ayrbx':function(_0x5674b0,_0x2217c8){return _0x3ea6c2[_0x4882('‮42','6qkE')](_0x5674b0,_0x2217c8);},'qeMzo':_0x3ea6c2['DosNh'],'CEcOF':function(_0x5cdc0d,_0x544baa){return _0x5cdc0d+_0x544baa;},'DjtCp':_0x3ea6c2[_0x4882('‮43','TFPJ')],'SeCOj':_0x4882('‮44','(Cwj'),'ZEKJO':function(_0x146034,_0x167337){return _0x3ea6c2[_0x4882('‮45','QYqO')](_0x146034,_0x167337);},'fLAvs':function(_0xafbfc0,_0x335080){return _0x3ea6c2[_0x4882('‮46','dbGk')](_0xafbfc0,_0x335080);},'esAJw':':无货','xEWEI':'XJIcu','aFgik':function(_0x1a864c,_0x49a53c){return _0x3ea6c2['HsbqH'](_0x1a864c,_0x49a53c);},'IiVvH':function(_0x5a201c,_0x131938){return _0x5a201c+_0x131938;},'erTpI':function(_0x40c729,_0x432389){return _0x40c729!==_0x432389;},'DWRwg':_0x3ea6c2[_0x4882('‮47','!u&)')],'JgtgG':function(_0x40ff24,_0x38c66f){return _0x3ea6c2[_0x4882('‮48','I5*$')](_0x40ff24,_0x38c66f);}};if(_0x3ea6c2[_0x4882('‫49','fk3M')](_0x3ea6c2[_0x4882('‫4a','AxQO')],_0x3ea6c2[_0x4882('‫4b','CeZi')])){$['get'](getApiUrl(),async(_0x243918,_0x6e1c81,_0xf9f134)=>{var _0x10be26={'nmSKP':function(_0x4e415a,_0x438b2a){return _0xae78ef[_0x4882('‮4c','meN&')](_0x4e415a,_0x438b2a);},'mSDhM':function(_0x5c6ef1,_0x5b3bad){return _0xae78ef['gVIcd'](_0x5c6ef1,_0x5b3bad);},'CJjig':function(_0x2b37f1,_0x522ec6){return _0xae78ef[_0x4882('‮4d','meN&')](_0x2b37f1,_0x522ec6);},'DWsNq':function(_0x529acc,_0x594bab){return _0xae78ef[_0x4882('‫4e','CeZi')](_0x529acc,_0x594bab);},'fNtZq':function(_0x4fc934,_0x40d6d0){return _0xae78ef[_0x4882('‫4f','baH1')](_0x4fc934,_0x40d6d0);},'fGkPM':function(_0x17c798,_0x4bdc84){return _0xae78ef[_0x4882('‫50','m4HG')](_0x17c798,_0x4bdc84);},'YsnUw':function(_0x1e5c86,_0x562329){return _0xae78ef['LWeJQ'](_0x1e5c86,_0x562329);},'Bdkje':function(_0x4f2493,_0x277fa8){return _0x4f2493>=_0x277fa8;}};try{if(_0xae78ef[_0x4882('‫51','QYqO')]===_0x4882('‮52','8slW')){let _0x103122;if(time){_0x103122=new Date(time);}else{_0x103122=new Date();}return _0x10be26['nmSKP'](_0x10be26[_0x4882('‫53','!u&)')](_0x10be26[_0x4882('‮54','MQNa')](_0x10be26['DWsNq'](_0x10be26[_0x4882('‮55','*hN1')](_0x10be26[_0x4882('‮56','rELY')](_0x103122[_0x4882('‫57','8bUi')]()+'-',_0x10be26['fNtZq'](_0x103122[_0x4882('‮58','TFPJ')]()+0x1,0xa)?_0x10be26['DWsNq'](_0x103122[_0x4882('‫59','(Cwj')](),0x1):_0x10be26['DWsNq']('0',_0x10be26['fGkPM'](_0x103122[_0x4882('‮5a','6qkE')](),0x1))),'-')+(_0x10be26[_0x4882('‫5b','zLY%')](_0x103122[_0x4882('‮5c','I5*$')](),0xa)?_0x103122['getDate']():'0'+_0x103122['getDate']()),'\x20')+(_0x10be26['YsnUw'](_0x103122[_0x4882('‫5d','j&AZ')](),0xa)?_0x103122['getHours']():_0x10be26[_0x4882('‫5e','meN&')]('0',_0x103122['getHours']()))+':',_0x10be26[_0x4882('‮5f','gSqa')](_0x103122['getMinutes'](),0xa)?_0x103122[_0x4882('‫60','Sv2p')]():'0'+_0x103122[_0x4882('‮61','6qkE')]())+':',_0x10be26[_0x4882('‮62','Sbd6')](_0x103122[_0x4882('‫63','SD#z')](),0xa)?_0x103122[_0x4882('‫63','SD#z')]():_0x10be26[_0x4882('‮64','j&AZ')]('0',_0x103122[_0x4882('‫65','I5*$')]())),':')+_0x103122[_0x4882('‫66',']s[L')]();}else{if(_0x243918){if(_0xae78ef[_0x4882('‫67','rELY')]===_0x4882('‫68','Sv2p')){return 0x0;}else{console[_0x4882('‫69','rELY')](_0x4882('‮6a',']ph@'));}}else{_0xf9f134=JSON[_0x4882('‮6b','Y^uI')](_0xf9f134);for(var _0x318b9f in _0xf9f134){if(_0xae78ef[_0x4882('‫6c','s&#Z')](_0xf9f134[_0x318b9f][_0x4882('‫6d','!u&)')],0x21)){if(_0xae78ef[_0x4882('‫6e','soA3')](_0x4882('‮6f',']P6Q'),_0x4882('‫70','5FRY'))){console[_0x4882('‮71','Mk!A')](_0xae78ef[_0x4882('‮72','trrK')]('商品',_0x318b9f)+_0xae78ef['qeMzo']);tips+=_0xae78ef[_0x4882('‫73','j&AZ')](_0xae78ef[_0x4882('‫74','gSqa')](_0xae78ef['CEcOF'](_0x4882('‮75','!u&)'),_0x318b9f),_0xae78ef['DjtCp']),'\x0a');}else{console[_0x4882('‫76','RyZ2')](_0x4882('‮77','IalC'));return![];}}else if(_0xae78ef['XSRVF'](_0xf9f134[_0x318b9f][_0x4882('‫78','rELY')],0x24)){console[_0x4882('‫79','*hN1')](_0xae78ef[_0x4882('‫7a','eOIj')](_0xae78ef['CEcOF']('商品',_0x318b9f),_0xae78ef[_0x4882('‮7b','QYqO')]));}else if(_0xf9f134[_0x318b9f]['StockState']==0x22){console[_0x4882('‫7c','trrK')](_0xae78ef[_0x4882('‮7d','I5*$')](_0xae78ef['fLAvs']('商品',_0x318b9f),_0xae78ef[_0x4882('‮7e','zLY%')]));}else{if(_0xae78ef['xEWEI']===_0x4882('‫7f','!u&)')){console[_0x4882('‮80','dbGk')](_0xae78ef['aFgik'](_0xae78ef[_0x4882('‮81','gSqa')]('商品',_0x318b9f)+_0x4882('‫82','JDqo'),_0xf9f134[_0x318b9f][_0x4882('‮83','SaK^')]));}else{retCode=_0xae78ef[_0x4882('‮84','E@0E')](retCode+index,'');}}}}}}catch(_0x28ce5e){if(_0xae78ef['erTpI']('WBqLQ',_0xae78ef[_0x4882('‫85','8slW')])){console[_0x4882('‮86','8slW')](_0xae78ef['jAxvJ']+jhmMsg);return;}else{$['logErr'](_0x28ce5e,_0x6e1c81);}}finally{_0xae78ef[_0x4882('‮87','E@0E')](_0x45bfdb,_0xf9f134);}});}else{calResult+=codeArr[i][_0x4882('‮88','QzJ$')]();}});}function getApiUrl(){var _0x116148={'RylPq':function(_0x310ac6,_0x4a2cad){return _0x310ac6+_0x4a2cad;},'jrFVR':function(_0x1048eb,_0x15e21e){return _0x1048eb+_0x15e21e;},'NfTNa':function(_0x3c60a8,_0x2622e9){return _0x3c60a8+_0x2622e9;},'dKbfw':_0x4882('‫89','@s0P'),'hGWFj':'&area=','dFipu':_0x4882('‫8a','MQNa'),'jQfGP':_0x4882('‮8b','QYqO'),'ioXYi':'application/json;charset=gbk'};let _0x4bffa4=_0x116148[_0x4882('‮8c','meN&')](_0x116148[_0x4882('‮8d','QYqO')](_0x116148['jrFVR'](_0x116148['NfTNa'](_0x116148[_0x4882('‮8e','I5*$')],goodId),_0x116148[_0x4882('‮8f','I5*$')]),areaId)+_0x116148[_0x4882('‫90','@s0P')],new Date()[_0x4882('‮91','baH1')]());return{'url':_0x4bffa4,'headers':{'User-Agent':$[_0x4882('‮92','SaK^')],'Host':_0x4882('‫93','Sbd6'),'Origin':_0x116148[_0x4882('‮94','h)%X')],'Content-Type':_0x116148[_0x4882('‫95','dbGk')]}};}function _calMyqlChar(_0x330563){var _0x47d0c9={'kPDFA':_0x4882('‮96','j&AZ'),'YVBwV':function(_0x58b125,_0x24cf92){return _0x58b125===_0x24cf92;},'vHEXz':'YdVqm','foDyg':_0x4882('‮97','Mk!A')};if(!_0x330563){return 0x0;}let _0x3b6630=_0x330563[_0x4882('‫98','CqLx')]('');let _0x3c541a=0x0;for(var _0x143d3b in _0x3b6630){if(_0x47d0c9[_0x4882('‮99','D9cy')](_0x47d0c9[_0x4882('‫9a','m4HG')],_0x47d0c9[_0x4882('‮9b','Mk!A')])){console[_0x4882('‫9c','@s0P')](_0x47d0c9[_0x4882('‮9d','(Cwj')]);return;}else{_0x3c541a+=_0x3b6630[_0x143d3b][_0x4882('‮9e','h)%X')]();}}return _0x3c541a;}function _getMyqlcRealStr(_0x3ad54a){var _0x325990={'XtIjf':function(_0x2539a4,_0x5e3741){return _0x2539a4+_0x5e3741;},'MbCPh':function(_0x1ff523,_0x117a1e){return _0x1ff523+_0x117a1e;},'axpgz':function(_0x9fa5a4,_0x454d86){return _0x9fa5a4+_0x454d86;},'zcTVa':'https://cd.jd.com/stocks?type=getstocks&skuIds=','yCxLm':'&area=','kvxrW':_0x4882('‫9f','(Cwj'),'mnmis':_0x4882('‮a0','*hN1'),'jGZSz':':采购中','mNwqm':_0x4882('‮a1','eOIj'),'MtniM':function(_0xd40b4d,_0x279e51){return _0xd40b4d<_0x279e51;},'KhAmG':_0x4882('‫a2','8slW'),'OCjSO':function(_0x2f383d,_0x10ef7a){return _0x2f383d<_0x10ef7a;},'nxJmY':function(_0x4b62fc,_0x2e2772){return _0x4b62fc===_0x2e2772;},'EAVGv':'EstOm','GgHbe':function(_0x3cce20,_0x51e798){return _0x3cce20+_0x51e798;},'ZBMgs':_0x4882('‫a3','Mk!A')};if(!_0x3ad54a){return null;}const _0x3cbe9a=_0x325990[_0x4882('‫a4','Sbd6')];let _0x4482f2='';let _0x2dfd8a=_0x3ad54a['split']('');for(var _0x1ca668 in _0x2dfd8a){let _0x44d7de=_0x3cbe9a['indexOf'](_0x2dfd8a[_0x1ca668]);if(_0x325990[_0x4882('‫a5','m4HG')](_0x44d7de,0x0)||_0x44d7de>_0x3cbe9a[_0x4882('‮a6','CqLx')]){if(_0x325990[_0x4882('‮a7',']s[L')]===_0x325990[_0x4882('‫a8','IalC')]){return null;}else{let _0x58a511=_0x325990[_0x4882('‮a9','Y^uI')](_0x325990[_0x4882('‮aa','CeZi')](_0x325990[_0x4882('‮ab','SD#z')](_0x325990[_0x4882('‮ac','fk3M')],goodId),_0x325990['yCxLm']),areaId)+_0x4882('‫ad','eOIj')+new Date()[_0x4882('‮ae','m4HG')]();return{'url':_0x58a511,'headers':{'User-Agent':$[_0x4882('‮af','zLY%')],'Host':'cd.jd.com','Origin':_0x325990[_0x4882('‮b0','CeZi')],'Content-Type':_0x325990[_0x4882('‮b1','s&#Z')]}};}}if(_0x325990['OCjSO'](_0x44d7de,0xa)){if(_0x325990[_0x4882('‫b2','*hN1')](_0x325990['EAVGv'],_0x4882('‫b3','soA3'))){console[_0x4882('‮b4','IA0w')](_0x325990[_0x4882('‮b5','eOIj')]('商品',sId)+_0x325990['jGZSz']);}else{_0x4482f2=_0x325990[_0x4882('‫b6','MQNa')](_0x4482f2,_0x44d7de)+'';}}else{if(_0x325990['nxJmY'](_0x4882('‮b7','6qkE'),_0x325990[_0x4882('‫b8','8bUi')])){if(!_0x3ad54a){return 0x0;}let _0x3758e1=_0x3ad54a['split']('');let _0x3743cd=0x0;for(var _0x1f1a08 in _0x3758e1){_0x3743cd+=_0x3758e1[_0x1f1a08][_0x4882('‮b9','zLY%')]();}return _0x3743cd;}else{_0x44d7de=_0x325990['GgHbe'](_0x44d7de,0x61)-0xa;_0x4482f2=_0x4482f2+String['fromCharCode'](_0x44d7de);}}}return _0x4482f2;}function getQmExpireDate(_0x38d8b8,_0x4e469c){var _0x44a28d={'SyDXQ':function(_0x36c81f,_0x303db4){return _0x36c81f(_0x303db4);},'gxiOC':function(_0x1dbfdf,_0x446ca2){return _0x1dbfdf!=_0x446ca2;},'AhvAE':function(_0x339998,_0x4255ab){return _0x339998(_0x4255ab);},'qufra':_0x4882('‫ba','!u&)'),'gkiFa':function(_0x4affff,_0x1b66bb){return _0x4affff!=_0x1b66bb;},'fKBFr':function(_0x6ccfd5,_0x2b5aeb){return _0x6ccfd5===_0x2b5aeb;},'nEiDg':_0x4882('‫bb','AxQO'),'ynvjZ':_0x4882('‮bc','h)%X'),'HpREM':function(_0x3558e8,_0x3492bf){return _0x3558e8+_0x3492bf;},'hwDkH':function(_0x549dd0,_0x15fd51){return _0x549dd0-_0x15fd51;},'eXgIR':function(_0xfeca1,_0x59bf51){return _0xfeca1(_0x59bf51);},'mALwD':function(_0x505d84,_0x3d2924){return _0x505d84+_0x3d2924;},'LIRSe':function(_0x56707d,_0x10e05e){return _0x56707d+_0x10e05e;},'tdQng':function(_0x32fa89,_0x3667f1){return _0x32fa89+_0x3667f1;},'bXvoI':_0x4882('‮bd','I5*$'),'DtdDV':function(_0x40f707,_0x40742d){return _0x40f707<_0x40742d;},'wrCCl':_0x4882('‮be','E@0E'),'hooAZ':'激活码已过期！'};try{const _0x29f04e=[0x158af,0xd446,0xcc58,0x1c2c,0x934,0x5ad8,0x8631,0xa22b,0x5e3c,0x7e43];let _0x11c0f5=_0x44a28d[_0x4882('‫bf',']ph@')](_getMyqlcRealStr,_0x38d8b8);let _0x105820=_0x44a28d[_0x4882('‮c0','eOIj')](parseInt,_0x11c0f5[_0x4882('‮c1','Sv2p')](0xb,0xc));let _0x1462fd=_0x11c0f5[_0x4882('‫c2','(Cwj')](0x4,0x8);if(_0x44a28d[_0x4882('‫c3','rELY')](_calMyqlChar(_0x11c0f5[_0x4882('‮c4','5FRY')](0x0,0xc))%0xa,_0x44a28d[_0x4882('‮c5','6qkE')](parseInt,_0x11c0f5['substring'](0xc,0xd)))){console['log'](_0x44a28d[_0x4882('‫c6','TFPJ')]);return![];}let _0x3bf2b8=_0x44a28d[_0x4882('‮c7','!u&)')](parseInt,_0x11c0f5[_0x4882('‮c8','Y^uI')](0x0,0x1));if(_0x4e469c&&_0x44a28d['gkiFa'](_0x4e469c,_0x3bf2b8)){if(_0x44a28d[_0x4882('‮c9',']ph@')](_0x44a28d[_0x4882('‮ca','Mk!A')],_0x44a28d[_0x4882('‫cb','meN&')])){console[_0x4882('‮cc','k]Gu')](_0x4882('‮cd','SD#z'));}else{console[_0x4882('‫ce','JDqo')]('激活码类型错误！');return![];}}let _0x634b6f=_0x44a28d[_0x4882('‮cf','SD#z')](_0x44a28d[_0x4882('‫d0','RyZ2')](_0x44a28d['hwDkH'](_0x44a28d[_0x4882('‮d1','QYqO')](parseInt,_0x44a28d[_0x4882('‫d2','rELY')](_0x11c0f5[_0x4882('‮c8','Y^uI')](0x1,0x4),_0x11c0f5['substring'](0x8,0xb))),_0x29f04e[_0x44a28d[_0x4882('‫d3','L3Em')](_0x3bf2b8,0x1)]),_0x105820),'');let _0x3e0f0e=_0x44a28d['mALwD'](_0x44a28d[_0x4882('‫d4','RyZ2')](_0x44a28d[_0x4882('‮d5','trrK')](_0x44a28d['tdQng']('20',_0x634b6f[_0x4882('‫d6','TFPJ')](0x0,0x2)),'/')+_0x634b6f[_0x4882('‮d7','I5*$')](0x2,0x4),'/'),_0x634b6f[_0x4882('‮d8','SD#z')](0x4,0x6))+'\x20'+_0x44a28d[_0x4882('‫d9',']ph@')];if(_0x44a28d[_0x4882('‫da','baH1')](new Date(_0x3e0f0e)[_0x4882('‫db','D9cy')](),new Date()[_0x4882('‫dc','Sv2p')]())){if(_0x44a28d[_0x4882('‫dd','Sbd6')]==='HHzgn'){console['log'](_0x44a28d[_0x4882('‮de','*hN1')]);return![];}else{$['logErr'](e,resp);}}else{return!![];}}catch(_0x52c574){return![];}}function timeFormat(_0x3a3bc3){var _0x580356={'dUvPV':function(_0xddac07,_0x2c2504){return _0xddac07+_0x2c2504;},'hEByJ':':有货','BDxwd':function(_0x3a6768,_0x427a0e){return _0x3a6768+_0x427a0e;},'xEQXK':function(_0x48ecb9,_0x22fc53){return _0x48ecb9+_0x22fc53;},'snrKd':_0x4882('‮df','gSqa'),'rUNYo':'激活码错误或已过期,','lXyNO':'ZbKEE','JsKrp':function(_0x3c60e2,_0x32ef1e){return _0x3c60e2===_0x32ef1e;},'lhcRs':function(_0x36d279,_0x34ea7e){return _0x36d279+_0x34ea7e;},'HRFiC':function(_0x3d82a8,_0x16b2a7){return _0x3d82a8+_0x16b2a7;},'KMMBk':function(_0x5f467a,_0x289d9c){return _0x5f467a+_0x289d9c;},'nWJMK':function(_0x23da3b,_0x6c936d){return _0x23da3b+_0x6c936d;},'IAexV':function(_0x4b18ad,_0x3cee8b){return _0x4b18ad+_0x3cee8b;},'kyNmL':function(_0x345636,_0x3da9b2){return _0x345636+_0x3da9b2;},'rTKDO':function(_0x501a9b,_0x69e929){return _0x501a9b+_0x69e929;},'itcyx':function(_0x12d976,_0x1a382d){return _0x12d976+_0x1a382d;},'cfajG':function(_0x36d3d7,_0x196aef){return _0x36d3d7>=_0x196aef;},'dsrXU':function(_0x2cfe78,_0x18ba9c){return _0x2cfe78+_0x18ba9c;}};let _0x17c369;if(_0x3a3bc3){if(_0x580356[_0x4882('‮e0','I5*$')]!==_0x580356['lXyNO']){console['log'](_0x580356[_0x4882('‫e1','m4HG')]('商品',sId)+_0x580356[_0x4882('‮e2','m4HG')]);tips+=_0x580356[_0x4882('‮e3','CeZi')](_0x580356[_0x4882('‮e4','rELY')]('有货了：https://item.jd.com/',sId),_0x580356['snrKd'])+'\x0a';}else{_0x17c369=new Date(_0x3a3bc3);}}else{if(_0x580356[_0x4882('‮e5','SaK^')]('FmpAZ',_0x4882('‮e6','QzJ$'))){_0x17c369=new Date();}else{console[_0x4882('‮e7','!u&)')](_0x580356[_0x4882('‮e4','rELY')](_0x580356['rUNYo'],jhmMsg));return;}}return _0x580356[_0x4882('‮e8','6g$C')](_0x580356[_0x4882('‫e9','*hN1')](_0x580356[_0x4882('‫ea','8slW')](_0x580356[_0x4882('‫eb','Sbd6')](_0x580356[_0x4882('‫ec','meN&')](_0x580356[_0x4882('‫ed','MQNa')](_0x580356[_0x4882('‫ee','meN&')](_0x580356[_0x4882('‫ef','MQNa')](_0x580356[_0x4882('‮f0','j&AZ')](_0x580356['rTKDO'](_0x17c369[_0x4882('‫f1','CqLx')](),'-')+(_0x580356[_0x4882('‮f2','dbGk')](_0x17c369[_0x4882('‮f3','6g$C')](),0x1)>=0xa?_0x17c369['getMonth']()+0x1:_0x580356['itcyx']('0',_0x17c369[_0x4882('‫59','(Cwj')]()+0x1)),'-'),_0x17c369['getDate']()>=0xa?_0x17c369['getDate']():'0'+_0x17c369[_0x4882('‫f4','m4HG')]()),'\x20'),_0x580356[_0x4882('‮f5','dbGk')](_0x17c369[_0x4882('‮f6',']P6Q')](),0xa)?_0x17c369['getHours']():_0x580356[_0x4882('‮f7','6g$C')]('0',_0x17c369[_0x4882('‮f8','E@0E')]())),':'),_0x580356['cfajG'](_0x17c369[_0x4882('‮f9','(Cwj')](),0xa)?_0x17c369['getMinutes']():_0x580356[_0x4882('‫fa','8slW')]('0',_0x17c369[_0x4882('‮fb','*hN1')]())),':'),_0x17c369['getSeconds']()>=0xa?_0x17c369['getSeconds']():_0x580356[_0x4882('‫fc','rELY')]('0',_0x17c369['getSeconds']()))+':',_0x17c369['getMilliseconds']());};_0xodu='jsjiami.com.v6';

// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}